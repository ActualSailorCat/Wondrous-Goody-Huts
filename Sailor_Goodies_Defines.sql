--UPDATE GoodyHuts SET Weight = 0 AND ImprovementType = 'IMPROVEMENT_METEOR_GOODY' WHERE GoodyHutType NOT LIKE '%SAILOR%';

--////////// Goody Huts
INSERT INTO GoodyHuts (GoodyHutType, ImprovementType, Weight, ShowMoment)
VALUES ('GOODYHUT_SAILOR_WONDROUS', 'IMPROVEMENT_GOODY_HUT', 100, 1);

--////////// Random Goody Hut Subtypes
INSERT INTO GoodyHutSubTypes (GoodyHut, SubTypeGoodyHut, Description, Weight, ModifierID, UpgradeUnit, Turn, Experience, Heal, Relic, Trader, MinOneCity, RequiresUnit)
--// 1 Resource Subtype
VALUES	('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_RANDOMRESOURCE', 'LOC_GOODYHUT_SAILOR_RANDOMRESOURCE', 13, 'SAILOR_GOODY_RANDOMRESOURCE_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 2 Unit Subtype
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_RANDOMUNIT', 'LOC_GOODYHUT_SAILOR_RANDOMUNIT', 13, 'SAILOR_GOODY_RANDOMUNIT_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 3 Improvement Subtype
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_RANDOMIMPROVEMENT', 'LOC_GOODYHUT_SAILOR_RANDOMIMPROVEMENT', 13, 'SAILOR_GOODY_RANDOMIMPROVEMENT_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 4 Sight Bomb Subtype
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_SIGHTBOMB', 'LOC_GOODYHUT_SAILOR_SIGHTBOMB', 12, 'SAILOR_GOODY_SIGHTBOMB_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 5 RandomPolicy Subtype
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_RANDOMPOLICY', 'LOC_GOODYHUT_SAILOR_RANDOMPOLICY', 12, 'SAILOR_GOODY_RANDOMPOLICY_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 6 Formation
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_FORMATION', 'LOC_GOODYHUT_SAILOR_FORMATION', 12, 'SAILOR_GOODY_FORMATION', 0, 0, 0, 0, 0, 0, 0, 0),
--// 7 Wonder
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_WONDER', 'LOC_GOODYHUT_SAILOR_WONDER', 13, 'SAILOR_GOODY_WONDER_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0),
--// 8 City-State
		('GOODYHUT_SAILOR_WONDROUS', 'GOODYHUT_SAILOR_CITYSTATE', 'LOC_GOODYHUT_SAILOR_CITYSTATE', 12, 'SAILOR_GOODY_CITYSTATE_SWITCH', 0, 0, 0, 0, 0, 0, 0, 0);

--////////// Abilities
--////////// Most of these are for passing commands to the Lua side of the mod.
INSERT INTO Types (Type, Kind)
VALUES	('ABILITY_SAILOR_GOODY_RANDOMRESOURCE',		'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_RANDOMUNIT',			'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_RANDOMIMPROVEMENT',	'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_SIGHTBOMB',			'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_RANDOMPOLICY',		'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_WONDER',				'KIND_ABILITY'),
		('ABILITY_SAILOR_GOODY_CITYSTATE',			'KIND_ABILITY');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_RANDOMRESOURCE', Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_RANDOMUNIT',	Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_RANDOMIMPROVEMENT', Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_SIGHTBOMB', Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_RANDOMPOLICY', Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_WONDER',	Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO TypeTags (Type, Tag) SELECT DISTINCT 'ABILITY_SAILOR_GOODY_CITYSTATE', Tag
FROM TypeTags WHERE Type IN (SELECT UnitType FROM Units WHERE DOMAIN != 'DOMAIN_SEA');

INSERT INTO UnitAbilities (UnitAbilityType,	Name, Description, Inactive, Permanent)
VALUES	('ABILITY_SAILOR_GOODY_RANDOMRESOURCE', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_RANDOMUNIT', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_RANDOMIMPROVEMENT', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_SIGHTBOMB', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_RANDOMPOLICY', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_WONDER', NULL, NULL, 1, 1),
		('ABILITY_SAILOR_GOODY_CITYSTATE', NULL, NULL, 1, 1);

INSERT INTO UnitAbilityModifiers (UnitAbilityType, ModifierId)
VALUES	('ABILITY_SAILOR_GOODY_SIGHTBOMB', 'SAILOR_GOODY_SIGHTBOMB_MOD1'),
		('ABILITY_SAILOR_GOODY_SIGHTBOMB', 'SAILOR_GOODY_SIGHTBOMB_MOD2');

--////////// Modifiers
INSERT INTO Modifiers (ModifierId, ModifierType)
VALUES	('SAILOR_GOODY_RANDOMRESOURCE_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_RANDOMUNIT_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_RANDOMIMPROVEMENT_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_SIGHTBOMB_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_SIGHTBOMB_MOD1', 'MODIFIER_PLAYER_UNIT_ADJUST_SIGHT'),
		('SAILOR_GOODY_SIGHTBOMB_MOD2',	'MODIFIER_PLAYER_UNIT_ADJUST_SEE_THROUGH_FEATURES'),
		('SAILOR_GOODY_RANDOMPOLICY_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_FORMATION', 'MODIFIER_PLAYER_UNIT_ADJUST_MILITARY_FORMATION'),
		('SAILOR_GOODY_WONDER_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY'),
		('SAILOR_GOODY_CITYSTATE_SWITCH', 'MODIFIER_PLAYER_UNIT_GRANT_ABILITY');

INSERT INTO ModifierArguments (ModifierID, Name, Value)
VALUES	('SAILOR_GOODY_RANDOMRESOURCE_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_RANDOMRESOURCE'),
		('SAILOR_GOODY_RANDOMUNIT_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_RANDOMUNIT'),
		('SAILOR_GOODY_RANDOMIMPROVEMENT_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_RANDOMIMPROVEMENT'),
		('SAILOR_GOODY_SIGHTBOMB_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_SIGHTBOMB'),
		('SAILOR_GOODY_SIGHTBOMB_MOD1',	'Amount', 3),
		('SAILOR_GOODY_SIGHTBOMB_MOD2',	'CanSee', 1),
		('SAILOR_GOODY_RANDOMPOLICY_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_RANDOMPOLICY'),
		('SAILOR_GOODY_FORMATION', 'MilitaryFormationType', 'CORPS_MILITARY_FORMATION'),
		('SAILOR_GOODY_WONDER_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_WONDER'),
		('SAILOR_GOODY_CITYSTATE_SWITCH', 'AbilityType', 'ABILITY_SAILOR_GOODY_CITYSTATE');
